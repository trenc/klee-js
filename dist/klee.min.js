var R="0.1.0";function C(s){return{debugLevel:0,responsive:!0,renderer:{type:"WebGLRenderer",args:[{antialias:!0,preserveDrawingBuffer:!0,alpha:!0}],domElement:"body",clearColor:"#000000",opacity:1,properties:{shadowMap:{enabled:!0,type:s.PCFSoftShadowMap}}},camera:{type:"PerspectiveCamera",methods:{lookAt:[0,0,0]},properties:{position:{x:-1,y:2,z:5},name:"camera-1",fov:35,aspect:window.innerWidth/window.innerHeight,near:1,far:300}},scene:{type:"Scene",properties:{name:"scene-1",position:{x:0,y:0,z:0}}}}}var p=class{static merge(a,r){if(!r||typeof r!="object")return a;for(let t of Object.keys(r))r[t]instanceof Object&&Object.assign(r[t],this.merge(a[t],r[t]));return Object.assign(a||{},r),a}static isThreeColorValue(a){return["color","specular","emissive","diffuse","background","sheen"].includes(a)}static applyMethods(a,r){r=r||{};for(let t in r){let e=Array.isArray(r[t])?r[t]:[];t in a?a[t](...e):console.log("Applied object has no method: "+t)}return a}};var i=function(){let s={},a,r={canvas:null,camera:null,renderer:null,scene:null,controls:null};async function t(o=[]){if(!Array.isArray(o)||o.length<=0){x("Images could not be preloaded. Wrong or no argument given.");return}a.Cache.enabled=!0;let f=new a.ImageLoader;return await Promise.all(o.map(async u=>await f.loadAsync(u)))}function e(o,f={}){(!o||!o.REVISION)&&O("THREE is not inserted"),a={...o},(!f||typeof f!="object")&&(f={},x("Options are set to default values")),s={...p.merge(C(a),f)},r.renderer=c(s.renderer)}function n(o){r.renderer.render(r.scene,r.camera),r.controls&&(r.controls.enableDamping||r.controls.autoRotate)&&r.controls.update(),typeof o=="function"&&o(),requestAnimationFrame(()=>n(o))}function l(){let o=s.responsive||!1,f=r.camera.fov,u=r.canvas.clientWidth,E=r.canvas.clientWidth,y=r.canvas.clientHeight;r.renderer.setSize(E,y),r.camera.aspect=E/y,r.camera.updateProjectionMatrix(),o!==!1&&window.addEventListener("resize",()=>{let v=window.innerWidth;E=r.canvas.clientWidth,y=r.canvas.clientHeight,v!==E&&(r.renderer.setSize(v,y),r.camera.aspect=v/y,r.camera.fov=f*u/v,r.camera.updateProjectionMatrix())})}function c(o){let f=document.querySelector(o.domElement);f instanceof HTMLCanvasElement&&(o.args.canvas=f,r.canvas=f);let u=m(o);return u=g(u,o.properties),u.setClearColor(new a.Color(o.clearColor),o.opacity),u.setPixelRatio(window.devicePixelRatio),r.canvas||(f.appendChild(u.domElement),r.canvas=u.domElement),u.setSize(r.canvas.clientWidth,r.canvas.clientHeight),u}function m(o){let f=Array.isArray(o.args)?o.args:[];return new a[o.type](...f)}function g(o,f){return p.merge(o,f)}function h(o,f){let u=s.debugLevel!==void 0?s.debugLevel:3;switch(f){case"error":throw o;case"warn":u>0&&console.warn(o);break;case"info":u>2&&console.info(o);break;default:u>1&&console.log(o);break}}function O(o){h(o,"error")}function x(o){h(o,"warn")}function M(o){h(o,"log")}function T(o){h(o,"info")}return{get options(){return s},get THREE(){return a},get scene(){return r.scene},set scene(o){r.scene=o},get camera(){return r.camera},set camera(o){r.camera=o},get controls(){return r.controls},set controls(o){r.controls=o},get renderer(){return r.renderer},preloadImages:t,initSize:l,create:m,error:O,warn:x,log:M,info:T,init:e,run:n}}();var d=function(){function s(e){let n=a(e);return i.scene.add(n),n}function a(e){let n=i.THREE,l=Array.isArray(e.args)?e.args:[],c=new n[e.type](...l);return c=r(c,e),c}function r(e,n){return n.properties&&(e=t(e,n.properties)),n.methods&&(e=p.applyMethods(e,n.methods)),e}function t(e,n){let l=i.THREE;if(!n||typeof n!="object")return e;for(let c in n)if(n[c]instanceof Object)if("copy"in e[c]){if("toVector3"in e[c]&&"setFromVector3"in e[c]){let g=new l.Vector3;g.setFromEuler(e[c]);let h={...g,...n[c]};e[c].setFromVector3(h)}let m={...e[c],...n[c]};e[c].copy(m)}else e[c]=t(e[c],n[c]);else p.isThreeColorValue(c)?e[c]=new l.Color(n[c]):e[c]=n[c];return e}return{add:s,create:a,change:r}}(i);var H=function(){function s(){let t=i.options;i.camera=r(t.camera),i.scene=a(t.scene),i.initSize()}function a(t){return d.create(t)}function r(t){let e=d.create(t);return e.updateProjectionMatrix(),e}return{init:s}}(i);var S=function(){function s(r,t){i.controls=a(r,t)}function a(r,t){let e=new r(i.camera,i.renderer.domElement);return e=d.change(e,t),e}return{init:s}}(i);var P=function(){function s(e){return d.create(e)}function a(e,n){return e=d.change(e,n),e}function r(e){if(typeof e=="object"&&e.type)return t(e);let n=[];return Array.isArray(e)&&e.forEach(l=>{let c=t(l);n.push(c)}),n}function t(e){let n=s(e);return i.scene.add(n),n}return{add:r,create:s,change:a}}(i);var w=function(){function s(t){t||(t={type:"MeshPhongMaterial",args:[{color:16777215}]},i.info("No options for material given, using default MeshPhongMaterial in white"));let e=i.create(t);return e=a(e,t),e}function a(t,e){return e.properties&&(t=r(t,e.properties)),e.methods&&(t=p.applyMethods(t,e.methods)),e.textures&&(e.textures.forEach(n=>{let l=n.type||"TextureLoader",c=i.create({type:l}),m=n.map,g=c.load(n.url);t[m]=g,n.properties&&(t[m]=r(t[m],n.properties)),n.methods&&(t[m]=p.applyMethods(t,n.methods))}),t.needsUpdate=!0),t}function r(t,e){let n=i.THREE;if(!e||typeof e!="object")return t;for(let l in e)e[l]instanceof Object?t[l]={...e[l]}:p.isThreeColorValue(l)?t[l]=new n.Color(e[l]):t[l]=e[l];return t}return{create:s,change:a}}(i);var A=function(){function s(a){a||(a={type:"BoxGeometry",args:[1,1,1]},i.info("No options for geometry given, using default BoxGeometry 1x1x1"));let r=i.create(a);return r=p.merge(r,a.properties),r}return{create:s}}(i);var L=function(){function s(e){let n=i.THREE,l=w.create(e.material),c=A.create(e.geometry),m=new n.Mesh(c,l);return m=t(m,e),m}function a(e){if(typeof e=="object"&&e.geometry)return r(e);let n=[];return Array.isArray(e)&&e.forEach(l=>{let c=r(l);n.push(c)}),n}function r(e){let n=s(e);return i.scene.add(n),n}function t(e,n){return e=d.change(e,n),n.material&&w.change(e.material,n.material),e}return{add:a,create:s,change:t}}(i);console.log("klee.js: "+R);export{i as App,S as Controls,A as Geometry,L as Item,R as KLEEVERSION,P as Light,w as Material,d as Object3d,H as Scene};
//# sourceMappingURL=klee.min.js.map
