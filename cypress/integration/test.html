<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Tests</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<style>
			body, html { height: 100%; margin: 0; padding: 0; overflow: hidden; }
			canvas { display: block; height: 100%; width: 100%; }
		</style>
	</head>
	<body>

		<script async src="https://unpkg.com/es-module-shims@1.5.5/dist/es-module-shims.js"></script>

		<script type="importmap">
			{
				"imports": {
					"klee": "../../dist/klee.js",
					"three": "../../example/libs/three.module.js"
				}
			}
		</script>

		<script type="module">

			import * as THREE from 'three';
			import { OrbitControls } from '../../example/libs/jsm/controls/OrbitControls.js';
			import * as KLEE from 'klee';

			window.KLEE = KLEE;
			window.THREE = THREE;
			window.OrbitControls = OrbitControls;

			const params = new URLSearchParams(window.location.search);
			const test = params.get('test');

			switch (test) {

				case 'initOptions':
					const options = { renderer: { properties: { shadowMap: { enabled: false } } } };
					KLEE.App.init(THREE, options);
					window.KleeOptions = options;
					break;

				case 'AppInit':
					KLEE.App.init(THREE, {});
					break;

				case 'SceneInit':
					KLEE.App.init(THREE, {});
					KLEE.Scene.init();
					break;

				default:
					break;

			}

		</script>
	</body>
</html>

